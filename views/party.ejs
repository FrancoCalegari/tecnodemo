<%- include('partials/header') %>

<div class="container" style="margin-top: 120px">
	<div style="display: flex; gap: 3rem; flex-wrap: wrap">
		<div style="flex: 1; min-width: 300px">
			<% if (party.image) { %>
			<img
				src="<%= party.image %>"
				alt="<%= party.title %>"
				style="
					width: 100%;
					border-radius: 8px;
					border: 1px solid #333;
					box-shadow: 0 0 20px rgba(176, 38, 255, 0.1);
				"
			/>
			<% } %>
		</div>

		<div style="flex: 2; min-width: 300px">
			<h1 style="font-size: 3rem; margin-bottom: 0.5rem"><%= party.title %></h1>
			<span
				class="party-date"
				style="font-size: 1.2rem; margin-bottom: 2rem; display: block"
				><%= party.date %></span
			>

			<p style="font-size: 1.1rem; color: #ccc; margin-bottom: 2rem">
				<%= party.description %>
			</p>

			<% if (party.location) { %>
			<div style="margin-bottom: 2rem">
				<h3><i class="fas fa-map-marker-alt"></i> Ubicaci√≥n</h3>
				<p><%= party.location %></p>
			</div>
			<% } %> <% if (party.lineup) { %>
			<div style="margin-bottom: 2rem">
				<h3>Line Up</h3>
				<p style="white-space: pre-line"><%= party.lineup %></p>
			</div>
			<% } %> <% if (party.sponsors) { %>
			<div style="margin-bottom: 2rem">
				<h3>Sponsors</h3>
				<p><%= party.sponsors %></p>
			</div>
			<% } %>

			<div style="margin-top: 2rem">
				<% if (party.ticketLink) { %>
				<a href="<%= party.ticketLink %>" target="_blank" class="btn"
					>Comprar Tickets</a
				>
				<% } %> <% if (party.startDateTime && party.endDateTime) { %> <% const
				startDate = new Date(party.startDateTime); const endDate = new
				Date(party.endDateTime); const formatDate = (date) => { return
				date.toISOString().replace(/-|:|\.\d+/g, ''); }; const calendarUrl =
				`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(party.title)}&dates=${formatDate(startDate)}/${formatDate(endDate)}&details=${encodeURIComponent(party.description)}&location=${encodeURIComponent(party.location
				|| 'Mendoza, Argentina')}`; %>
				<a
					href="<%= calendarUrl %>"
					target="_blank"
					class="btn"
					style="
						border-color: var(--accent-secondary);
						color: var(--accent-secondary);
					"
				>
					<i class="far fa-calendar-plus"></i> Agregar al Calendario
				</a>
				<% } %>

				<a href="/" class="btn btn-secondary">Volver</a>
			</div>

			<% if (party.video) { %>
			<div style="margin-top: 3rem">
				<h3>Video Promocional</h3>
				<div class="video-container" style="margin-top: 1rem">
					<%- party.video %>
				</div>
			</div>
			<% } %>
		</div>
	</div>
</div>

<%- include('partials/footer') %>
